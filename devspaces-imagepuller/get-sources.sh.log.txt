======= BOOTSTRAP DOCKERFILE =======>
# Copyright (c) 2020 Red Hat, Inc.
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/
#
# SPDX-License-Identifier: EPL-2.0
#
# Contributors:
#   Red Hat, Inc. - initial API and implementation
#
# https://registry.access.redhat.com/rhel8/go-toolset
FROM registry.redhat.io/rhel8/go-toolset:1.17.12-3 as builder
ENV GOPATH=/go/ \
    GO111MODULE=on

ARG BOOTSTRAP=true
ENV BOOTSTRAP=${BOOTSTRAP}

USER root

WORKDIR /kubernetes-image-puller
COPY go.mod .
COPY go.sum .
# built in Brew, use tarball in lookaside cache; built locally, comment this out
# COPY resources.tgz /tmp/resources.tgz
# build locally, fetch mods
RUN if [[ ${BOOTSTRAP} != "false" ]]; then \
      go mod download; \
    elif [[ -f /tmp/resources.tgz ]]; then \
      tar xvf /tmp/resources.tgz -C /; \
      rm -f /tmp/resources.tgz; \
    fi

COPY . .

RUN adduser appuser && \
    make build 

# https://registry.access.redhat.com/ubi8-minimal
FROM registry.redhat.io/ubi8-minimal:8.6-902
USER root
RUN microdnf -y update && microdnf clean all && rm -rf /var/cache/yum && echo "Installed Packages" && rpm -qa | sort -V && echo "End Of Installed Packages"
# CRW-528 copy actual cert
COPY --from=builder /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem /etc/pki/ca-trust/extracted/pem/
# CRW-528 copy symlink to the above cert
COPY --from=builder /etc/pki/tls/certs/ca-bundle.crt                  /etc/pki/tls/certs/
COPY --from=builder /etc/passwd /etc/passwd

USER appuser
COPY --from=builder /kubernetes-image-puller/bin/kubernetes-image-puller /
COPY --from=builder /kubernetes-image-puller/bin/sleep /bin/sleep
# NOTE: To use this container, need a configmap. See example at ./deploy/openshift/configmap.yaml
# See also https://github.com/che-incubator/kubernetes-image-puller#configuration
CMD ["/kubernetes-image-puller"]

# append Brew metadata here

ENV SUMMARY="Red Hat OpenShift Dev Spaces imagepuller container" \
    DESCRIPTION="Red Hat OpenShift Dev Spaces imagepuller container" \
    PRODNAME="devspaces" \
    COMPNAME="imagepuller-rhel8"
LABEL summary="$SUMMARY" \
      description="$DESCRIPTION" \
      io.k8s.description="$DESCRIPTION" \
      io.k8s.display-name="$DESCRIPTION" \
      io.openshift.tags="$PRODNAME,$COMPNAME" \
      com.redhat.component="$PRODNAME-$COMPNAME-container" \
      name="$PRODNAME/$COMPNAME" \
      version="3.2" \
      license="EPLv2" \
      maintainer="Ilya Buziuk <ibuziuk@redhat.com>, Nick Boldt <nboldt@redhat.com>" \
      io.openshift.expose-services="" \
      usage=""
<======= BOOTSTRAP DOCKERFILE =======
======= START BOOTSTRAP BUILD =======>
STEP 1/11: FROM registry.redhat.io/rhel8/go-toolset:1.17.12-3 AS builder
STEP 2/11: ENV GOPATH=/go/     GO111MODULE=on
--> 379f0ced1cf
STEP 3/11: ARG BOOTSTRAP=true
--> bd28154f3ce
STEP 4/11: ENV BOOTSTRAP=${BOOTSTRAP}
--> 708ccae4635
STEP 5/11: USER root
--> c6774d8c0b4
STEP 6/11: WORKDIR /kubernetes-image-puller
--> 03217d6a5f5
STEP 7/11: COPY go.mod .
--> b8ee346b629
STEP 8/11: COPY go.sum .
--> 82b86f112f0
STEP 9/11: RUN if [[ ${BOOTSTRAP} != "false" ]]; then       go mod download;     elif [[ -f /tmp/resources.tgz ]]; then       tar xvf /tmp/resources.tgz -C /;       rm -f /tmp/resources.tgz;     fi
--> 7e36ba4338b
STEP 10/11: COPY . .
--> 2a47ba8fb97
STEP 11/11: RUN adduser appuser &&     make build 
go test -v ./cfg... ./pkg... ./sleep... ./utils...
=== RUN   TestEnvVars
=== RUN   TestEnvVars/default
2022/08/27 01:29:42 No value found for DAEMONSET_NAME. Using default value of kubernetes-image-puller
2022/08/27 01:29:42 No value found for NAMESPACE. Using default value of k8s-image-puller
2022/08/27 01:29:42 Processing images from configuration...
2022/08/27 01:29:42 Image: che-theia=quay.io/eclipse/che-theia:nightly
2022/08/27 01:29:42 No value found for CACHING_MEMORY_REQUEST. Using default value of 1Mi
2022/08/27 01:29:42 No value found for CACHING_MEMORY_LIMIT. Using default value of 5Mi
2022/08/27 01:29:42 No value found for CACHING_CPU_REQUEST. Using default value of .05
2022/08/27 01:29:42 No value found for CACHING_CPU_LIMIT. Using default value of .2
2022/08/27 01:29:42 No value found for NODE_SELECTOR. Using default value of {}
2022/08/27 01:29:42 No value found for IMAGE_PULL_SECRETS. Using default value of 
2022/08/27 01:29:42 No value found for AFFINITY. Using default value of {}
2022/08/27 01:29:42 No value found for KIP_IMAGE. Using default value of quay.io/eclipse/kubernetes-image-puller:next
=== RUN   TestEnvVars/overrides
2022/08/27 01:29:42 Processing images from configuration...
2022/08/27 01:29:42 Image: che-theia=quay.io/eclipse/che-theia:nightly
2022/08/27 01:29:42 No value found for CACHING_MEMORY_REQUEST. Using default value of 1Mi
2022/08/27 01:29:42 No value found for CACHING_MEMORY_LIMIT. Using default value of 5Mi
2022/08/27 01:29:42 No value found for CACHING_CPU_LIMIT. Using default value of .2
--- PASS: TestEnvVars (0.00s)
    --- PASS: TestEnvVars/default (0.00s)
    --- PASS: TestEnvVars/overrides (0.00s)
=== RUN   TestProcessImagesEnvVar
=== RUN   TestProcessImagesEnvVar/one_image
2022/08/27 01:29:42 Processing images from configuration...
2022/08/27 01:29:42 Image: che-theia=quay.io/eclipse/che-theia:nightly
=== RUN   TestProcessImagesEnvVar/three_images
2022/08/27 01:29:42 Processing images from configuration...
2022/08/27 01:29:42 Image: image1=my/image1:dev
2022/08/27 01:29:42 Image: image2=my/image2:next
2022/08/27 01:29:42 Image: image3=my/image3:stage
--- PASS: TestProcessImagesEnvVar (0.00s)
    --- PASS: TestProcessImagesEnvVar/one_image (0.00s)
    --- PASS: TestProcessImagesEnvVar/three_images (0.00s)
=== RUN   TestProcessNodeSElectorEnvVar
=== RUN   TestProcessNodeSElectorEnvVar/default_node_selector,_NODE_SELECTOR_set
=== RUN   TestProcessNodeSElectorEnvVar/compute_type,_NODE_SELECTOR_set
=== RUN   TestProcessNodeSElectorEnvVar/default_env_var,_NODE_SELECTOR_not_set
2022/08/27 01:29:42 No value found for NODE_SELECTOR. Using default value of {}
--- PASS: TestProcessNodeSElectorEnvVar (0.00s)
    --- PASS: TestProcessNodeSElectorEnvVar/default_node_selector,_NODE_SELECTOR_set (0.00s)
    --- PASS: TestProcessNodeSElectorEnvVar/compute_type,_NODE_SELECTOR_set (0.00s)
    --- PASS: TestProcessNodeSElectorEnvVar/default_env_var,_NODE_SELECTOR_not_set (0.00s)
=== RUN   TestGetEnvVarOrDefaultBool
--- PASS: TestGetEnvVarOrDefaultBool (0.00s)
=== RUN   TestGetEnvVarOrDefault
2022/08/27 01:29:42 No value found for UNDEFINED_ENV_VAR. Using default value of bar
--- PASS: TestGetEnvVarOrDefault (0.00s)
=== RUN   Test_processAffinityEnvVar
=== RUN   Test_processAffinityEnvVar/default_affinity,_AFFINITY_set
=== RUN   Test_processAffinityEnvVar/requiredDuringSchedulingIgnoredDuringExecution,_AFFINITY_set
=== RUN   Test_processAffinityEnvVar/default_env_var,_AFFINITY_not_set
2022/08/27 01:29:42 No value found for AFFINITY. Using default value of {}
--- PASS: Test_processAffinityEnvVar (0.00s)
    --- PASS: Test_processAffinityEnvVar/default_affinity,_AFFINITY_set (0.00s)
    --- PASS: Test_processAffinityEnvVar/requiredDuringSchedulingIgnoredDuringExecution,_AFFINITY_set (0.00s)
    --- PASS: Test_processAffinityEnvVar/default_env_var,_AFFINITY_not_set (0.00s)
PASS
ok  	github.com/che-incubator/kubernetes-image-puller/cfg	0.049s
?   	github.com/che-incubator/kubernetes-image-puller/pkg/single-cluster	[no test files]
=== RUN   TestArguments
--- PASS: TestArguments (1.40s)
PASS
ok  	github.com/che-incubator/kubernetes-image-puller/sleep	1.406s
=== RUN   TestGetContainers
=== RUN   TestGetContainers/two_containers
2022/08/27 01:29:48 No value found for DAEMONSET_NAME. Using default value of kubernetes-image-puller
2022/08/27 01:29:48 No value found for NAMESPACE. Using default value of k8s-image-puller
2022/08/27 01:29:48 Processing images from configuration...
2022/08/27 01:29:48 Image: che-theia=eclipse/che-theia:nightly
2022/08/27 01:29:48 Image: che-plugin-registry=quay.io/eclipse/che-plugin-registry:nightly
2022/08/27 01:29:48 No value found for CACHING_MEMORY_REQUEST. Using default value of 1Mi
2022/08/27 01:29:48 No value found for CACHING_MEMORY_LIMIT. Using default value of 5Mi
2022/08/27 01:29:48 No value found for CACHING_CPU_REQUEST. Using default value of .05
2022/08/27 01:29:48 No value found for CACHING_CPU_LIMIT. Using default value of .2
2022/08/27 01:29:48 No value found for NODE_SELECTOR. Using default value of {}
2022/08/27 01:29:48 No value found for IMAGE_PULL_SECRETS. Using default value of 
2022/08/27 01:29:48 No value found for AFFINITY. Using default value of {}
2022/08/27 01:29:48 No value found for KIP_IMAGE. Using default value of quay.io/eclipse/kubernetes-image-puller:next
=== RUN   TestGetContainers/four_containers
2022/08/27 01:29:48 No value found for DAEMONSET_NAME. Using default value of kubernetes-image-puller
2022/08/27 01:29:48 No value found for NAMESPACE. Using default value of k8s-image-puller
2022/08/27 01:29:48 Processing images from configuration...
2022/08/27 01:29:48 Image: che-sidecar-java=quay.io/eclipse/che-sidecar-java:nightly
2022/08/27 01:29:48 Image: che-plugin-registry=quay.io/eclipse/che-plugin-registry:nightly
2022/08/27 01:29:48 Image: che-devfile-registry=quay.io/eclipse/che-devfile-registry:nightly
2022/08/27 01:29:48 Image: che-theia=quay.io/eclipse/che-theia:nightly
2022/08/27 01:29:48 No value found for CACHING_MEMORY_REQUEST. Using default value of 1Mi
2022/08/27 01:29:48 No value found for CACHING_MEMORY_LIMIT. Using default value of 5Mi
2022/08/27 01:29:48 No value found for CACHING_CPU_REQUEST. Using default value of .05
2022/08/27 01:29:48 No value found for CACHING_CPU_LIMIT. Using default value of .2
2022/08/27 01:29:48 No value found for NODE_SELECTOR. Using default value of {}
2022/08/27 01:29:48 No value found for IMAGE_PULL_SECRETS. Using default value of 
2022/08/27 01:29:48 No value found for AFFINITY. Using default value of {}
2022/08/27 01:29:48 No value found for KIP_IMAGE. Using default value of quay.io/eclipse/kubernetes-image-puller:next
--- PASS: TestGetContainers (0.00s)
    --- PASS: TestGetContainers/two_containers (0.00s)
    --- PASS: TestGetContainers/four_containers (0.00s)
PASS
ok  	github.com/che-incubator/kubernetes-image-puller/utils	0.011s
GOOS=linux go build -v -o ./bin/kubernetes-image-puller ./cmd/main.go
CGO_ENABLED=0 GOOS=linux go build -a -ldflags '-w -s' -a -installsuffix cgo -o ./bin/sleep ./sleep/sleep.go
COMMIT imagepuller:tmp
--> 533206c458d
Successfully tagged localhost/imagepuller:tmp
533206c458d374850973243de31777a30a0c0fb00837deb2611768c7d770c084
<======= END BOOTSTRAP BUILD =======
Downloading resources.tgz
DIFF START *****
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/emicklei/go-restful@v0.0.0-20170410110728-ff4f55a20633 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/emicklei/go-restful@v0.0.0-20170410110728-ff4f55a20633
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/emicklei/go-restful@v0.0.0-20170410110728-ff4f55a20633	2022-08-19 21:30:22.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/emicklei/go-restful@v0.0.0-20170410110728-ff4f55a20633	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/emicklei/go-restful v0.0.0-20170410110728-ff4f55a20633/go.mod h1:otzb+WCGbkyDHkqmQmT5YD2WR4BBwUdeQoFo8l/7tVs=
 
 go.sum database tree
-11987436
-uLWuEeLAUNmQcFHi/zMp8OyeWMVpqsXXdlIZ35Rg4tU=
+12056666
+2V07brTBMNa+xQH8FNqXMfBNRJ8CcGPAR1JY4eVFEZI=
 
-— sum.golang.org Az3grjXTybem5AoTMJ0hE27wAbWzHXcx4r5sB4z2ruWt8JJ9KqUmJ0gYODTBEVD6BvoYOyxksUHfix3N6KA2UCo9MwU=
+— sum.golang.org Az3griQ1ol1rkEnMpkej2UK1kGFbhW5NThnADBUnx7UVvG28UVuE+LYjDusc8BJOgdVaKrt3wvC6lGzVo1ymaogqngc=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/ghodss/yaml@v0.0.0-20150909031657-73d445a93680 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/ghodss/yaml@v0.0.0-20150909031657-73d445a93680
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/ghodss/yaml@v0.0.0-20150909031657-73d445a93680	2022-08-19 21:30:22.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/ghodss/yaml@v0.0.0-20150909031657-73d445a93680	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/ghodss/yaml v0.0.0-20150909031657-73d445a93680/go.mod h1:4dBDuWmgqj2HViK6kFavaiC9ZROes6MMH2rRYeMEF04=
 
 go.sum database tree
-11987826
-oidYrw8JpXEaUivxp4QDWXvaXiI/AaCQWGIwxjaB1vk=
+12055706
+S9XU1PE5rx8Fh/nqR89WhxERNmSrcP/MBYCc3hX00co=
 
-— sum.golang.org Az3griYmc5ub+8v5Q9lLBo953Jfyan5WDhyymSsP/LMwtzxNnRegetUO4fcwGBs38mnwx0uD8oGs6dK1X3mwzkYPIgo=
+— sum.golang.org Az3gridmSl27Etcp4udwIl75+iSwGGLRiHCfOzuSGHIZ5/cNp3TZxJ34lkc/u8jy4Po4Jmf/7J8lzSZ4+5Rsxd1KhQ8=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonpointer@v0.0.0-20160704185906-46af16f9f7b1 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonpointer@v0.0.0-20160704185906-46af16f9f7b1
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonpointer@v0.0.0-20160704185906-46af16f9f7b1	2022-08-19 21:30:23.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonpointer@v0.0.0-20160704185906-46af16f9f7b1	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/go-openapi/jsonpointer v0.0.0-20160704185906-46af16f9f7b1/go.mod h1:+35s3my2LFTysnkMfxsJBAMHj/DoqoB9knIWoYG/Vk0=
 
 go.sum database tree
-11987170
-7vQEV8UCPheYos8wzMHZSyEUTk2OAMq/cyfsdyYHHfQ=
+12055579
+owaKEhw254KtnxISgbYZYMZ1tKYad9FS/Pok9dSfIgg=
 
-— sum.golang.org Az3griTWDIVCBcSiwrXiI7UdmbIg5GUQs+ak0kc+IAWNGoExsu4sDWKf2IsxAITB7WU/R3vdLokY65zfeqDw4FcguAQ=
+— sum.golang.org Az3gro7DAZD0k2K2NcWPj/OWYW05Ftqo0C9bXikzNLQXbLkR4NEF+ncgMh2pa/pqcJmNyw2quXozujYBjQtxyAmHCQA=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonreference@v0.0.0-20160704190145-13c6e3589ad9 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonreference@v0.0.0-20160704190145-13c6e3589ad9
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonreference@v0.0.0-20160704190145-13c6e3589ad9	2022-08-19 21:30:23.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/jsonreference@v0.0.0-20160704190145-13c6e3589ad9	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/go-openapi/jsonreference v0.0.0-20160704190145-13c6e3589ad9/go.mod h1:W3Z9FmVs9qj+KR4zFKmDPGiLdk1D9Rlm7cyMvf57TTg=
 
 go.sum database tree
-11987340
-dL9i6RFw0bQ+t4/80SyftWNPxK+Btu6Rf/YX0i5toLc=
+12056399
+/zNH+DLH6a1QqBg1CaTdro/bUXbp13DjfMWvNpiFsC0=
 
-— sum.golang.org Az3grkLJwSOarS7Pb69ct3BwXJDCvcUcZGEHyfexl03oqEjRVP8eGHLwE0sDM2Fe4EECuIbMXH8rSSc9NIAmAHL8bgk=
+— sum.golang.org Az3grv0xf6XN9THdVyYew+g7WMqzTNUDVTwAsv2RRKt3UcD88c/TXUcCdmc1R+kix63EsujwHI5YBX072JRU+Zjodgc=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/spec@v0.0.0-20160808142527-6aced65f8501 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/spec@v0.0.0-20160808142527-6aced65f8501
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/spec@v0.0.0-20160808142527-6aced65f8501	2022-08-19 21:30:23.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/spec@v0.0.0-20160808142527-6aced65f8501	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/go-openapi/spec v0.0.0-20160808142527-6aced65f8501/go.mod h1:J8+jY1nAiCcj+friV/PDoE1/3eeccG9LYBs0tYvLOWc=
 
 go.sum database tree
-11987266
-BuIKaSRZPfYYkdWjOEjGYMlMM3xS1mGHyzIl11HqtQM=
+12055910
+Ltn2z0pfIFqUNPLyLM3jo8pKg/8O5nmu8t5Snpb6wPk=
 
-— sum.golang.org Az3grgYDvlyDiU5XKDLOy6xR42zwyiMy3RZiFdEfSPQ60zj0D37Y59Vfw+RjvvKEkqGsKiqJhENnzVnPrIB0XBpOQAE=
+— sum.golang.org Az3grjLq9rUbUbOEVppnviP3ra76Ufi0C+StTLr0rpj7hadQYvPlulsR0P48O5Vxux2izrsX9sKbj9UDTYQZAfDg0Qg=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/swag@v0.0.0-20160704191624-1d0bd113de87 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/swag@v0.0.0-20160704191624-1d0bd113de87
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/swag@v0.0.0-20160704191624-1d0bd113de87	2022-08-19 21:30:23.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/go-openapi/swag@v0.0.0-20160704191624-1d0bd113de87	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/go-openapi/swag v0.0.0-20160704191624-1d0bd113de87/go.mod h1:DXUve3Dpr1UfpPtxFw+EFuQ41HhCWZfha5jSVRG7C7I=
 
 go.sum database tree
-11987266
-BuIKaSRZPfYYkdWjOEjGYMlMM3xS1mGHyzIl11HqtQM=
+12055579
+owaKEhw254KtnxISgbYZYMZ1tKYad9FS/Pok9dSfIgg=
 
-— sum.golang.org Az3grgYDvlyDiU5XKDLOy6xR42zwyiMy3RZiFdEfSPQ60zj0D37Y59Vfw+RjvvKEkqGsKiqJhENnzVnPrIB0XBpOQAE=
+— sum.golang.org Az3gro7DAZD0k2K2NcWPj/OWYW05Ftqo0C9bXikzNLQXbLkR4NEF+ncgMh2pa/pqcJmNyw2quXozujYBjQtxyAmHCQA=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/mailru/easyjson@v0.0.0-20160728113105-d5b7844b561a /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/mailru/easyjson@v0.0.0-20160728113105-d5b7844b561a
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/mailru/easyjson@v0.0.0-20160728113105-d5b7844b561a	2022-08-19 21:30:23.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/mailru/easyjson@v0.0.0-20160728113105-d5b7844b561a	2022-08-26 21:29:13.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/mailru/easyjson v0.0.0-20160728113105-d5b7844b561a/go.mod h1:C1wdFJiN94OJF2b5HbByQZoLdCWB1Yqtg26g4irojpc=
 
 go.sum database tree
-11987170
-7vQEV8UCPheYos8wzMHZSyEUTk2OAMq/cyfsdyYHHfQ=
+12056746
+TIRNjJUD1sZ2DDYqM7AvAuhkPtzWZlq0mDYelv+s4Io=
 
-— sum.golang.org Az3griTWDIVCBcSiwrXiI7UdmbIg5GUQs+ak0kc+IAWNGoExsu4sDWKf2IsxAITB7WU/R3vdLokY65zfeqDw4FcguAQ=
+— sum.golang.org Az3groNfcqOBL1noZdy0F+ibBdd2CJwqMCFNd4NwR/aM910a62uB7Zr8+mo4UL2HbGYFageATsY2Nwu+GeljB7WGKQc=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/munnerz/goautoneg@v0.0.0-20120707110453-a547fc61f48d /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/munnerz/goautoneg@v0.0.0-20120707110453-a547fc61f48d
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/munnerz/goautoneg@v0.0.0-20120707110453-a547fc61f48d	2022-08-19 21:30:23.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/munnerz/goautoneg@v0.0.0-20120707110453-a547fc61f48d	2022-08-26 21:29:13.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/munnerz/goautoneg v0.0.0-20120707110453-a547fc61f48d/go.mod h1:+n7T8mK8HuQTcFwEeznm/DIxMOiR9yIdICNftLE1DvQ=
 
 go.sum database tree
-11987803
-ueHazhoUNN0J2KY2pbNaIXjI9qpHP9RYgnk5jv9HQo4=
+12056583
+Fc4kBj6WAz+akmt97Hmy3WpQPGe10m7HrwVBRQQ1Nyw=
 
-— sum.golang.org Az3grixxKE7+2CcGGLp/itU6fqDiNAJlekT0VcdA/Uewn3bjxgOpQ6V2rgSgMWcGISSMV3JqX1gSbncF2Qnkf4VQawk=
+— sum.golang.org Az3grusHqmilKlo+vsFwrdkSPTo04F953czrJ9kyw77m7ZRFi/tZXmTaMi59QFtfuzSGaacLjdoFczkfXKI0Td5PqwY=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!n!y!times/gziphandler@v0.0.0-20170623195520-56545f4a5d46 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!n!y!times/gziphandler@v0.0.0-20170623195520-56545f4a5d46
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!n!y!times/gziphandler@v0.0.0-20170623195520-56545f4a5d46	2022-08-19 21:30:22.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!n!y!times/gziphandler@v0.0.0-20170623195520-56545f4a5d46	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/NYTimes/gziphandler v0.0.0-20170623195520-56545f4a5d46/go.mod h1:3wb06e3pkSAbeQ52E9H9iFoQsEEwGN64994WTCIhntQ=
 
 go.sum database tree
-11987829
-fiNpZ4ImqxCnc9mpISLMKdb4x5jN9AiVyLKR+M9QTQo=
+12056823
+/m6DyZxii8M6qImAvF+hMJSHotX41QdVkCfqvIsyiZY=
 
-— sum.golang.org Az3gru0Fd9d4QGnZcl3dq4VLeSVHz0nWLO0XDLBWMuMOMBHe3tI6/xWfD1GqbF+SHDnKlsCmtYwxvQQbxXNC8HdHOQ8=
+— sum.golang.org Az3grulf03UWU01TACKyukmpCJPfCv1q0jRYhP4K6dtret+mhZnWKKpvbn5HhL6gIzr+iBKDZjv/eOoW693gWuyIgAM=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/ginkgo@v0.0.0-20170829012221-11459a886d9c /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/ginkgo@v0.0.0-20170829012221-11459a886d9c
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/ginkgo@v0.0.0-20170829012221-11459a886d9c	2022-08-19 21:30:23.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/ginkgo@v0.0.0-20170829012221-11459a886d9c	2022-08-26 21:29:13.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/onsi/ginkgo v0.0.0-20170829012221-11459a886d9c/go.mod h1:lLunBs/Ym6LB5Z9jYTR76FiuTmxDTDusOGeTQH+WWjE=
 
 go.sum database tree
-11987803
-ueHazhoUNN0J2KY2pbNaIXjI9qpHP9RYgnk5jv9HQo4=
+12056666
+2V07brTBMNa+xQH8FNqXMfBNRJ8CcGPAR1JY4eVFEZI=
 
-— sum.golang.org Az3grixxKE7+2CcGGLp/itU6fqDiNAJlekT0VcdA/Uewn3bjxgOpQ6V2rgSgMWcGISSMV3JqX1gSbncF2Qnkf4VQawk=
+— sum.golang.org Az3griQ1ol1rkEnMpkej2UK1kGFbhW5NThnADBUnx7UVvG28UVuE+LYjDusc8BJOgdVaKrt3wvC6lGzVo1ymaogqngc=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/gomega@v0.0.0-20170829124025-dcabb60a477c /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/gomega@v0.0.0-20170829124025-dcabb60a477c
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/gomega@v0.0.0-20170829124025-dcabb60a477c	2022-08-19 21:30:23.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/onsi/gomega@v0.0.0-20170829124025-dcabb60a477c	2022-08-26 21:29:13.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/onsi/gomega v0.0.0-20170829124025-dcabb60a477c/go.mod h1:C1qb7wdrVGGVU+Z6iS04AVkA3Q65CEZX59MT0QO5uiA=
 
 go.sum database tree
-11987803
-ueHazhoUNN0J2KY2pbNaIXjI9qpHP9RYgnk5jv9HQo4=
+12056666
+2V07brTBMNa+xQH8FNqXMfBNRJ8CcGPAR1JY4eVFEZI=
 
-— sum.golang.org Az3grixxKE7+2CcGGLp/itU6fqDiNAJlekT0VcdA/Uewn3bjxgOpQ6V2rgSgMWcGISSMV3JqX1gSbncF2Qnkf4VQawk=
+— sum.golang.org Az3griQ1ol1rkEnMpkej2UK1kGFbhW5NThnADBUnx7UVvG28UVuE+LYjDusc8BJOgdVaKrt3wvC6lGzVo1ymaogqngc=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/purell@v1.0.0 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/purell@v1.0.0
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/purell@v1.0.0	2022-08-19 21:30:22.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/purell@v1.0.0	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/PuerkitoBio/purell v1.0.0/go.mod h1:c11w/QuzBsJSee3cPx9rAFu61PvFxuPbtSwDGJws/X0=
 
 go.sum database tree
-11987830
-bQfwVSgY/gMbMNCVnUvWmhcZIRu5bSu8HqDh6l1RzNQ=
+12055573
+dKJd+SPKy6gmuzvNLc+8UJVkz7Rhxd0GE3Aim/ZT6Pk=
 
-— sum.golang.org Az3grqF+41RFkTbHAnMEOoUv3GrovCg3ivyhbAfcMvIn+XrSPaWxcejYYg/Jw8M/qjQkxabKH4DX+ps/s11rHXdHyQ8=
+— sum.golang.org Az3grnvXVK9RpCP8HaU14GycFWicu9dErrImDuduFXrbG1d+/ky1u8JmCNlLmNWa2NahfkMjM8FLIsLX/T/LLqvLtQE=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/urlesc@v0.0.0-20160726150825-5bd2802263f2 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/urlesc@v0.0.0-20160726150825-5bd2802263f2
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/urlesc@v0.0.0-20160726150825-5bd2802263f2	2022-08-19 21:30:22.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/github.com/!puerkito!bio/urlesc@v0.0.0-20160726150825-5bd2802263f2	2022-08-26 21:29:12.000000000 -0400
@@ -3,7 +3,7 @@
 github.com/PuerkitoBio/urlesc v0.0.0-20160726150825-5bd2802263f2/go.mod h1:uGdkoq3SwY9Y+13GIhn11/XLaGBb4BfwItxLd5jeuXE=
 
 go.sum database tree
-11987830
-bQfwVSgY/gMbMNCVnUvWmhcZIRu5bSu8HqDh6l1RzNQ=
+12056399
+/zNH+DLH6a1QqBg1CaTdro/bUXbp13DjfMWvNpiFsC0=
 
-— sum.golang.org Az3grqF+41RFkTbHAnMEOoUv3GrovCg3ivyhbAfcMvIn+XrSPaWxcejYYg/Jw8M/qjQkxabKH4DX+ps/s11rHXdHyQ8=
+— sum.golang.org Az3grv0xf6XN9THdVyYew+g7WMqzTNUDVTwAsv2RRKt3UcD88c/TXUcCdmc1R+kix63EsujwHI5YBX072JRU+Zjodgc=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/tools@v0.0.0-20181011042414-1f849cf54d09 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/tools@v0.0.0-20181011042414-1f849cf54d09
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/tools@v0.0.0-20181011042414-1f849cf54d09	2022-08-19 21:30:25.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/tools@v0.0.0-20181011042414-1f849cf54d09	2022-08-26 21:29:14.000000000 -0400
@@ -3,7 +3,7 @@
 golang.org/x/tools v0.0.0-20181011042414-1f849cf54d09/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=
 
 go.sum database tree
-11987340
-dL9i6RFw0bQ+t4/80SyftWNPxK+Btu6Rf/YX0i5toLc=
+12056888
+Rv7Bga0/WcQO02HItErTdAtJdD6hTgKLjaZBbCs7kCw=
 
-— sum.golang.org Az3grkLJwSOarS7Pb69ct3BwXJDCvcUcZGEHyfexl03oqEjRVP8eGHLwE0sDM2Fe4EECuIbMXH8rSSc9NIAmAHL8bgk=
+— sum.golang.org Az3grkXW5rkJQ98ZMvHNplOWq11dDcIGPqIQRV45h/LtPU9COkGjV8MZpuD3u/0SHBsRmZtikrriANJpUeqhMNW4sww=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/xerrors@v0.0.0-20191204190536-9bdfabe68543 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/xerrors@v0.0.0-20191204190536-9bdfabe68543
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/xerrors@v0.0.0-20191204190536-9bdfabe68543	2022-08-19 21:30:24.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/golang.org/x/xerrors@v0.0.0-20191204190536-9bdfabe68543	2022-08-26 21:29:13.000000000 -0400
@@ -3,7 +3,7 @@
 golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=
 
 go.sum database tree
-11987844
-15Ypc1sTeBEKL3XuXOMkvx+9wYEmRFBQq+026zg6mEM=
+12056882
+AUJZW47UQb0ysuWo0WEIlBgv4iyQHmKUh4gL4p2Yo+0=
 
-— sum.golang.org Az3grtsWU510HZzVVyKQ4SMHcmLkL3lzEMv58JBRmDebZXxPg8zfagDqw23QI1tpa43wvaki3Rak3Dt3Ev41vFbLKQk=
+— sum.golang.org Az3grqPNGnVVNJWAX6yPXx3GzmNW22na/qj+qkQ6Sg6S9p+xFHgx0INfCDYETwAlgc8IaX/CCDOtxWc5m2qbUR8LfQo=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/k8s.io/gengo@v0.0.0-20190128074634-0689ccc1d7d6 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/k8s.io/gengo@v0.0.0-20190128074634-0689ccc1d7d6
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/k8s.io/gengo@v0.0.0-20190128074634-0689ccc1d7d6	2022-08-19 21:30:25.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/k8s.io/gengo@v0.0.0-20190128074634-0689ccc1d7d6	2022-08-26 21:29:14.000000000 -0400
@@ -3,7 +3,7 @@
 k8s.io/gengo v0.0.0-20190128074634-0689ccc1d7d6/go.mod h1:ezvh/TsK7cY6rbqRK0oQQ8IAqLxYwwyPxAX1Pzy0ii0=
 
 go.sum database tree
-11987149
-Ih/PImPbSegQh+Liuota9Z6dAudmOpaoklYgBfxcPCc=
+12057028
+EjFIS1acQ9DVeh3B9y6VHwZFQShiPmLsi3Vz1yocsv8=
 
-— sum.golang.org Az3grlbdgsemvG5ILX+zhhhBGZ9m/6ERFgAnKAvqybIMokoB0Zb3h3P0lVqsizooWruJJ5sm0p6bU/Ys61YV8FZLrgs=
+— sum.golang.org Az3grrT0tMHzqutjHZxwN2xRh4IHw/AxF/tliUvtIAC8uIzyQAoHlnbHu4pktA01dXF4xqtvFIKtnx0uoOfemmD75wc=
diff --suppress-common-lines -u -r /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/sigs.k8s.io/structured-merge-diff/v3@v3.0.0-20200116222232-67a7b8c61874 /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/sigs.k8s.io/structured-merge-diff/v3@v3.0.0-20200116222232-67a7b8c61874
--- /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/sigs.k8s.io/structured-merge-diff/v3@v3.0.0-20200116222232-67a7b8c61874	2022-08-19 21:30:25.000000000 -0400
+++ /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/lookup/sigs.k8s.io/structured-merge-diff/v3@v3.0.0-20200116222232-67a7b8c61874	2022-08-26 21:29:14.000000000 -0400
@@ -3,7 +3,7 @@
 sigs.k8s.io/structured-merge-diff/v3 v3.0.0-20200116222232-67a7b8c61874/go.mod h1:PlARxl6Hbt/+BC80dRLi1qAmnMqwqDg62YvvVkZjemw=
 
 go.sum database tree
-11987643
-xNhchcN77MSWZtNNvp1FQYqYGIpNye6IiHFAkPyM4P0=
+12057000
+15lMD1bhQjLiZ4DIQODrDYix8jOjT/fhoXI/GecvZSo=
 
-— sum.golang.org Az3grvAeFeTp+l/YTX7Xy7CN1go+mGAZuCXVsLxV0Gl3FuZ5kKItZNsPALL90lTvXF6XwmFADrdrnyIQ8j5Qd6l9xAs=
+— sum.golang.org Az3grorRbGamUdPczBYn/ng9zT8/PVSNbUVMmdGYFpiBsY2AKrDxFTvGOoX2FR3+g0HzuM0RqyoqfALT3xm8EKpnMg8=
Only in /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/0: x046
Only in /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/0: x047
Only in /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/1: 182.p
Only in /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/1: 183.p
Only in /tmp/tmp.qBpICjfriZ/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/2/000.p: 182
Only in /tmp/tmp.Eu1E4ctQ6y/go/pkg/mod/cache/download/sumdb/sum.golang.org/tile/8/2/000.p: 183
***** END DIFF
Untagged: localhost/imagepuller:tmp
Deleted: 533206c458d374850973243de31777a30a0c0fb00837deb2611768c7d770c084
Deleted: 2a47ba8fb97294521cd2a03cd311c04bf2e8dbf4a4f034d34e7a58086d3fee90
Deleted: 7e36ba4338b06dc2d135bc3581f1343479c2511fcde0ba1eee5ea3dd013352c0
Deleted: 82b86f112f09a8e0db24337209a56a785b28aef29586bf3ce00f196e27e3470f
Deleted: b8ee346b6296f65308d29c91fa49d7d490ec25ef3ed9eda12334eca76676746d
Deleted: 03217d6a5f559ec431c8f0b2863a5c668c37706d7eaaf9df11cc3ec0cca03a28
Deleted: c6774d8c0b449e1e5827cd542ca8b0820cd0b7d25b0177d847ff356df6917dc2
Deleted: 708ccae46353dc7ad5598af7820517c5ec83a32e475707f0d469ad0e03fdef94
Deleted: bd28154f3ce9abc63ce76dc33cd247ca45cd5cf22a5a08994034b05c0392fac3
Deleted: 379f0ced1cf87a498dafed9faf9cc4fc04e65c5acae8c8d9076047f43356c748
Uploading: resources.tgz
Source upload succeeded. Don't forget to commit the sources file
rm 'resources.tgz'
