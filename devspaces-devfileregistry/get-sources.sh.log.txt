======= BOOTSTRAP DOCKERFILE =======>
#
# Copyright (c) 2018-2022 Red Hat, Inc.
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/
#
# SPDX-License-Identifier: EPL-2.0
#
# Contributors:
#   Red Hat, Inc. - initial API and implementation
#   IBM Corporation - implementation
#

# Builder: check meta.yamls and create index.json
# registry.access.redhat.com/ubi8/python-38
FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 as builder
USER 0

ARG BOOTSTRAP=true
ENV BOOTSTRAP=${BOOTSTRAP}
# if not defined or string is null, allow all registries/tags in list_referenced_images
# otherwise restrict to only those space-separated registries/tags; if others found, build will fail
# useful for failing build if quay images in an RC, or wrong devspaces image tag (3.2 in 3.1 build)
ARG ALLOWED_REGISTRIES=""
ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
ARG ALLOWED_TAGS=""
ENV ALLOWED_TAGS=${ALLOWED_TAGS}

COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
COPY ./build/dockerfiles/rhel.install.sh /tmp
RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh

COPY ./build/scripts ./versions.json /build/
COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
COPY ./VERSION /
COPY ./devfiles /build/devfiles
WORKDIR /build/

RUN ./generate_devworkspace_templates.sh
RUN chmod -R g+rwX /build/resources

# validate devfile content
RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
RUN ./check_mandatory_fields.sh devfiles

# Cache projects in DS 
COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 

# don't do swaps, or we end up with missing content if built on s390x or ppc64le worker
# RUN ./swap_yamlfiles.sh devfiles
# RUN ./swap_images.sh devfiles
RUN ./index.sh > /build/devfiles/index.json && \
    ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt && \
    ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt && \
    chmod -R g+rwX /build/devfiles

<======= BOOTSTRAP DOCKERFILE =======
======= START BOOTSTRAP BUILD =======>
STEP 1/23: FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 AS builder
STEP 2/23: USER 0
--> 1660b8cb929
STEP 3/23: ARG BOOTSTRAP=true
--> 73589cc9f83
STEP 4/23: ENV BOOTSTRAP=${BOOTSTRAP}
--> 342b58b4597
STEP 5/23: ARG ALLOWED_REGISTRIES=""
--> b85354835fe
STEP 6/23: ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
--> 4eb8c5801e4
STEP 7/23: ARG ALLOWED_TAGS=""
--> 7d80b523c4d
STEP 8/23: ENV ALLOWED_TAGS=${ALLOWED_TAGS}
--> 1d68f3b5d0f
STEP 9/23: COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
--> 961aba43efc
STEP 10/23: COPY ./build/dockerfiles/rhel.install.sh /tmp
--> 7aced4e291b
STEP 11/23: RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh
Updating Subscription Management repositories.
Unable to read consumer identity
Subscription Manager is operating in container mode.

This system is not registered with an entitlement server. You can use subscription-manager to register.

Red Hat Enterprise Linux 8 for Power, little en  61 MB/s |  43 MB     00:00    
Red Hat Enterprise Linux 8 for Power, little en  58 MB/s |  42 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - BaseOS  825 kB/s | 576 kB     00:00    
Red Hat Universal Base Image 8 (RPMs) - AppStre 5.8 MB/s | 2.6 MB     00:00    
Red Hat Universal Base Image 8 (RPMs) - CodeRea  52 kB/s |  14 kB     00:00    
Last metadata expiration check: 0:00:01 ago on Fri 26 Aug 2022 02:14:32 PM UTC.
Package findutils-1:4.6.0-20.el8.ppc64le is already installed.
Package bash-4.4.20-3.el8.ppc64le is already installed.
Package wget-1.19.5-10.el8.ppc64le is already installed.
Package yum-4.7.0-8.el8.noarch is already installed.
Package git-2.31.1-2.el8.ppc64le is already installed.
Package gzip-1.9-13.el8_5.ppc64le is already installed.
Package tar-2:1.30-5.el8.ppc64le is already installed.
Package python3-six-1.11.0-8.el8.noarch is already installed.
Dependencies resolved.
================================================================================================================
 Package               Arch     Version                                 Repository                          Size
================================================================================================================
Installing:
 jq                    ppc64le  1.6-3.el8                               rhel-8-for-ppc64le-appstream-rpms  215 k
 python3-pip           noarch   9.0.3-22.el8                            rhel-8-for-ppc64le-appstream-rpms   20 k
 skopeo                ppc64le  2:1.8.0-2.module+el8.6.0+15917+093ca6f8 rhel-8-for-ppc64le-appstream-rpms  5.9 M
Upgrading:
 bash                  ppc64le  4.4.20-4.el8_6                          rhel-8-for-ppc64le-baseos-rpms     1.6 M
Installing dependencies:
 containers-common     ppc64le  2:1-35.module+el8.6.0+15917+093ca6f8    rhel-8-for-ppc64le-appstream-rpms  109 k
 criu                  ppc64le  3.15-3.module+el8.6.0+15875+dc9a2b96    rhel-8-for-ppc64le-appstream-rpms  536 k
 fuse-common           ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      22 k
 fuse3                 ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      57 k
 fuse3-libs            ppc64le  3.3.0-15.el8                            rhel-8-for-ppc64le-baseos-rpms      99 k
 iptables-libs         ppc64le  1.8.4-22.el8                            rhel-8-for-ppc64le-baseos-rpms     114 k
 jansson               ppc64le  2.14-1.el8                              rhel-8-for-ppc64le-baseos-rpms      51 k
 kmod                  ppc64le  25-19.el8                               rhel-8-for-ppc64le-baseos-rpms     138 k
 libibverbs            ppc64le  37.2-1.el8                              rhel-8-for-ppc64le-baseos-rpms     412 k
 libmnl                ppc64le  1.0.4-6.el8                             rhel-8-for-ppc64le-baseos-rpms      31 k
 libnet                ppc64le  1.1.6-15.el8                            rhel-8-for-ppc64le-appstream-rpms   73 k
 libnftnl              ppc64le  1.1.5-5.el8                             rhel-8-for-ppc64le-baseos-rpms      88 k
 libpcap               ppc64le  14:1.9.1-5.el8                          rhel-8-for-ppc64le-baseos-rpms     176 k
 libslirp              ppc64le  4.4.0-1.module+el8.6.0+15875+dc9a2b96   rhel-8-for-ppc64le-appstream-rpms   74 k
 nftables              ppc64le  1:0.9.3-25.el8                          rhel-8-for-ppc64le-baseos-rpms     340 k
 oniguruma             ppc64le  6.8.2-2.el8                             rhel-8-for-ppc64le-appstream-rpms  199 k
 platform-python-pip   noarch   9.0.3-22.el8                            rhel-8-for-ppc64le-baseos-rpms     1.6 M
 protobuf-c            ppc64le  1.3.0-6.el8                             rhel-8-for-ppc64le-appstream-rpms   40 k
 python3-setuptools    noarch   39.2.0-6.el8                            rhel-8-for-ppc64le-baseos-rpms     163 k
 python36              ppc64le  3.6.8-38.module+el8.5.0+12207+5c5719bc  rhel-8-for-ppc64le-appstream-rpms   19 k
 runc                  ppc64le  1:1.1.3-2.module+el8.6.0+15917+093ca6f8 rhel-8-for-ppc64le-appstream-rpms  2.6 M
Installing weak dependencies:
 fuse-overlayfs        ppc64le  1.9-1.module+el8.6.0+15917+093ca6f8     rhel-8-for-ppc64le-appstream-rpms   74 k
 slirp4netns           ppc64le  1.2.0-2.module+el8.6.0+15917+093ca6f8   rhel-8-for-ppc64le-appstream-rpms   59 k
Enabling module streams:
 container-tools                rhel8                                                                           
 python36                       3.6                                                                             

Transaction Summary
================================================================================================================
Install  26 Packages
Upgrade   1 Package

Total download size: 15 M
Downloading Packages:
(1/27): libpcap-1.9.1-5.el8.ppc64le.rpm         1.4 MB/s | 176 kB     00:00    
(2/27): libmnl-1.0.4-6.el8.ppc64le.rpm          220 kB/s |  31 kB     00:00    
(3/27): oniguruma-6.8.2-2.el8.ppc64le.rpm       1.2 MB/s | 199 kB     00:00    
(4/27): python36-3.6.8-38.module+el8.5.0+12207+ 113 kB/s |  19 kB     00:00    
(5/27): python3-setuptools-39.2.0-6.el8.noarch. 844 kB/s | 163 kB     00:00    
(6/27): libnftnl-1.1.5-5.el8.ppc64le.rpm        1.6 MB/s |  88 kB     00:00    
(7/27): slirp4netns-1.2.0-2.module+el8.6.0+1591 1.4 MB/s |  59 kB     00:00    
(8/27): fuse3-3.3.0-15.el8.ppc64le.rpm          1.0 MB/s |  57 kB     00:00    
(9/27): criu-3.15-3.module+el8.6.0+15875+dc9a2b 5.1 MB/s | 536 kB     00:00    
(10/27): libibverbs-37.2-1.el8.ppc64le.rpm      5.5 MB/s | 412 kB     00:00    
(11/27): platform-python-pip-9.0.3-22.el8.noarc 9.9 MB/s | 1.6 MB     00:00    
(12/27): fuse3-libs-3.3.0-15.el8.ppc64le.rpm    2.0 MB/s |  99 kB     00:00    
(13/27): protobuf-c-1.3.0-6.el8.ppc64le.rpm     457 kB/s |  40 kB     00:00    
(14/27): python3-pip-9.0.3-22.el8.noarch.rpm    567 kB/s |  20 kB     00:00    
(15/27): kmod-25-19.el8.ppc64le.rpm             3.3 MB/s | 138 kB     00:00    
(16/27): jansson-2.14-1.el8.ppc64le.rpm         1.0 MB/s |  51 kB     00:00    
(17/27): containers-common-1-35.module+el8.6.0+ 2.1 MB/s | 109 kB     00:00    
(18/27): fuse-common-3.3.0-15.el8.ppc64le.rpm   369 kB/s |  22 kB     00:00    
(19/27): nftables-0.9.3-25.el8.ppc64le.rpm      4.0 MB/s | 340 kB     00:00    
(20/27): libslirp-4.4.0-1.module+el8.6.0+15875+ 903 kB/s |  74 kB     00:00    
(21/27): iptables-libs-1.8.4-22.el8.ppc64le.rpm 1.5 MB/s | 114 kB     00:00    
(22/27): fuse-overlayfs-1.9-1.module+el8.6.0+15 1.7 MB/s |  74 kB     00:00    
(23/27): jq-1.6-3.el8.ppc64le.rpm               2.6 MB/s | 215 kB     00:00    
(24/27): bash-4.4.20-4.el8_6.ppc64le.rpm         13 MB/s | 1.6 MB     00:00    
(25/27): runc-1.1.3-2.module+el8.6.0+15917+093c  18 MB/s | 2.6 MB     00:00    
(26/27): libnet-1.1.6-15.el8.ppc64le.rpm        526 kB/s |  73 kB     00:00    
(27/27): skopeo-1.8.0-2.module+el8.6.0+15917+09 1.1 MB/s | 5.9 MB     00:05    
--------------------------------------------------------------------------------
Total                                           2.8 MB/s |  15 MB     00:05     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Upgrading        : bash-4.4.20-4.el8_6.ppc64le                           1/28 
  Running scriptlet: bash-4.4.20-4.el8_6.ppc64le                           1/28 
  Installing       : fuse3-libs-3.3.0-15.el8.ppc64le                       2/28 
  Running scriptlet: fuse3-libs-3.3.0-15.el8.ppc64le                       2/28 
  Installing       : libmnl-1.0.4-6.el8.ppc64le                            3/28 
  Running scriptlet: libmnl-1.0.4-6.el8.ppc64le                            3/28 
  Installing       : libnftnl-1.1.5-5.el8.ppc64le                          4/28 
  Running scriptlet: libnftnl-1.1.5-5.el8.ppc64le                          4/28 
  Installing       : libibverbs-37.2-1.el8.ppc64le                         5/28 
  Running scriptlet: libibverbs-37.2-1.el8.ppc64le                         5/28 
  Installing       : libpcap-14:1.9.1-5.el8.ppc64le                        6/28 
  Installing       : iptables-libs-1.8.4-22.el8.ppc64le                    7/28 
  Installing       : kmod-25-19.el8.ppc64le                                8/28 
  Installing       : libnet-1.1.6-15.el8.ppc64le                           9/28 
  Running scriptlet: libnet-1.1.6-15.el8.ppc64le                           9/28 
  Installing       : libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc   10/28 
  Installing       : slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.   11/28 
  Installing       : protobuf-c-1.3.0-6.el8.ppc64le                       12/28 
  Installing       : oniguruma-6.8.2-2.el8.ppc64le                        13/28 
  Running scriptlet: oniguruma-6.8.2-2.el8.ppc64le                        13/28 
  Installing       : fuse-common-3.3.0-15.el8.ppc64le                     14/28 
  Installing       : fuse3-3.3.0-15.el8.ppc64le                           15/28 
  Installing       : fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   16/28 
  Running scriptlet: fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   16/28 
  Installing       : jansson-2.14-1.el8.ppc64le                           17/28 
  Installing       : nftables-1:0.9.3-25.el8.ppc64le                      18/28 
  Running scriptlet: nftables-1:0.9.3-25.el8.ppc64le                      18/28 
  Installing       : criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le    19/28 
  Installing       : runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64   20/28 
  Installing       : containers-common-2:1-35.module+el8.6.0+15917+093c   21/28 
  Installing       : platform-python-pip-9.0.3-22.el8.noarch              22/28 
  Installing       : python3-setuptools-39.2.0-6.el8.noarch               23/28 
  Installing       : python3-pip-9.0.3-22.el8.noarch                      24/28 
  Installing       : python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   25/28 
  Running scriptlet: python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   25/28 
  Installing       : skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc   26/28 
  Installing       : jq-1.6-3.el8.ppc64le                                 27/28 
  Cleanup          : bash-4.4.20-3.el8.ppc64le                            28/28 
  Running scriptlet: bash-4.4.20-3.el8.ppc64le                            28/28 
  Verifying        : libmnl-1.0.4-6.el8.ppc64le                            1/28 
  Verifying        : python3-setuptools-39.2.0-6.el8.noarch                2/28 
  Verifying        : libpcap-14:1.9.1-5.el8.ppc64le                        3/28 
  Verifying        : platform-python-pip-9.0.3-22.el8.noarch               4/28 
  Verifying        : libnftnl-1.1.5-5.el8.ppc64le                          5/28 
  Verifying        : fuse3-3.3.0-15.el8.ppc64le                            6/28 
  Verifying        : libibverbs-37.2-1.el8.ppc64le                         7/28 
  Verifying        : fuse3-libs-3.3.0-15.el8.ppc64le                       8/28 
  Verifying        : kmod-25-19.el8.ppc64le                                9/28 
  Verifying        : jansson-2.14-1.el8.ppc64le                           10/28 
  Verifying        : nftables-1:0.9.3-25.el8.ppc64le                      11/28 
  Verifying        : fuse-common-3.3.0-15.el8.ppc64le                     12/28 
  Verifying        : iptables-libs-1.8.4-22.el8.ppc64le                   13/28 
  Verifying        : skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc   14/28 
  Verifying        : python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.pp   15/28 
  Verifying        : oniguruma-6.8.2-2.el8.ppc64le                        16/28 
  Verifying        : criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le    17/28 
  Verifying        : slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.   18/28 
  Verifying        : protobuf-c-1.3.0-6.el8.ppc64le                       19/28 
  Verifying        : python3-pip-9.0.3-22.el8.noarch                      20/28 
  Verifying        : libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc   21/28 
  Verifying        : containers-common-2:1-35.module+el8.6.0+15917+093c   22/28 
  Verifying        : jq-1.6-3.el8.ppc64le                                 23/28 
  Verifying        : fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8   24/28 
  Verifying        : runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64   25/28 
  Verifying        : libnet-1.1.6-15.el8.ppc64le                          26/28 
  Verifying        : bash-4.4.20-4.el8_6.ppc64le                          27/28 
  Verifying        : bash-4.4.20-3.el8.ppc64le                            28/28 
Installed products updated.

Upgraded:
  bash-4.4.20-4.el8_6.ppc64le                                                   
Installed:
  containers-common-2:1-35.module+el8.6.0+15917+093ca6f8.ppc64le                
  criu-3.15-3.module+el8.6.0+15875+dc9a2b96.ppc64le                             
  fuse-common-3.3.0-15.el8.ppc64le                                              
  fuse-overlayfs-1.9-1.module+el8.6.0+15917+093ca6f8.ppc64le                    
  fuse3-3.3.0-15.el8.ppc64le                                                    
  fuse3-libs-3.3.0-15.el8.ppc64le                                               
  iptables-libs-1.8.4-22.el8.ppc64le                                            
  jansson-2.14-1.el8.ppc64le                                                    
  jq-1.6-3.el8.ppc64le                                                          
  kmod-25-19.el8.ppc64le                                                        
  libibverbs-37.2-1.el8.ppc64le                                                 
  libmnl-1.0.4-6.el8.ppc64le                                                    
  libnet-1.1.6-15.el8.ppc64le                                                   
  libnftnl-1.1.5-5.el8.ppc64le                                                  
  libpcap-14:1.9.1-5.el8.ppc64le                                                
  libslirp-4.4.0-1.module+el8.6.0+15875+dc9a2b96.ppc64le                        
  nftables-1:0.9.3-25.el8.ppc64le                                               
  oniguruma-6.8.2-2.el8.ppc64le                                                 
  platform-python-pip-9.0.3-22.el8.noarch                                       
  protobuf-c-1.3.0-6.el8.ppc64le                                                
  python3-pip-9.0.3-22.el8.noarch                                               
  python3-setuptools-39.2.0-6.el8.noarch                                        
  python36-3.6.8-38.module+el8.5.0+12207+5c5719bc.ppc64le                       
  runc-1:1.1.3-2.module+el8.6.0+15917+093ca6f8.ppc64le                          
  skopeo-2:1.8.0-2.module+el8.6.0+15917+093ca6f8.ppc64le                        
  slirp4netns-1.2.0-2.module+el8.6.0+15917+093ca6f8.ppc64le                     

Complete!
Collecting yq
  Downloading https://files.pythonhosted.org/packages/60/2c/ab35b5ec3b884b6e33b18ba3f6be6b94d607501fca1e5a8de22988690cdb/yq-3.1.0-py3-none-any.whl
Collecting xmltodict>=0.11.0
  Downloading https://files.pythonhosted.org/packages/94/db/fd0326e331726f07ff7f40675cd86aa804bfd2e5016c727fa761c934990e/xmltodict-0.13.0-py2.py3-none-any.whl
Collecting argcomplete>=1.8.1
  Downloading https://files.pythonhosted.org/packages/d3/e5/c5509683462e51b070df9e83e7f72c1ccfe3f733f328b4a0f06804c27278/argcomplete-2.0.0-py2.py3-none-any.whl
Collecting toml>=0.10.0
  Downloading https://files.pythonhosted.org/packages/44/6f/7120676b6d73228c96e17f1f794d8ab046fc910d781c8d151120c3f1569e/toml-0.10.2-py2.py3-none-any.whl
Collecting PyYAML>=5.3.1
  Downloading https://files.pythonhosted.org/packages/36/2b/61d51a2c4f25ef062ae3f74576b01638bebad5e045f747ff12643df63844/PyYAML-6.0.tar.gz (124kB)
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
    Preparing wheel metadata: started
    Preparing wheel metadata: finished with status 'done'
Building wheels for collected packages: PyYAML
  Building wheel for PyYAML (PEP 517): started
  Building wheel for PyYAML (PEP 517): finished with status 'done'
  Created wheel for PyYAML: filename=PyYAML-6.0-cp38-cp38-linux_ppc64le.whl size=45333 sha256=f103720cb9fbd17e880e17dd632675cf8d8ebece1edf985971093d4bc44d3ef0
  Stored in directory: /tmp/pip-ephem-wheel-cache-ir326n1f/wheels/95/84/67/ebeac632c63797cfbeb90128ca41073117721540dad526d213
Successfully built PyYAML
Installing collected packages: xmltodict, argcomplete, toml, PyYAML, yq
Successfully installed PyYAML-6.0 argcomplete-2.0.0 toml-0.10.2 xmltodict-0.13.0 yq-3.1.0
python: Python 3.8.12
yq: yq 3.1.0
jq: jq-1.6
--> 4fdc0c6cf39
STEP 12/23: COPY ./build/scripts ./versions.json /build/
--> be200f97614
STEP 13/23: COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
--> 0c8bd8ca46e
STEP 14/23: COPY ./VERSION /
--> dc30d75b1bc
STEP 15/23: COPY ./devfiles /build/devfiles
--> 4158afe3c04
STEP 16/23: WORKDIR /build/
--> 34a1485dad0
STEP 17/23: RUN ./generate_devworkspace_templates.sh

> core-js@2.6.12 postinstall /build/node_modules/core-js
> node -e "try{require('./postinstall')}catch(e){}"

[96mThank you for using core-js ([94m https://github.com/zloirock/core-js [96m) for polyfilling JavaScript standard library![0m

[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: [0m
[96m>[94m https://opencollective.com/core-js [0m
[96m>[94m https://www.patreon.com/zloirock [0m

[96mAlso, the author of core-js ([94m https://github.com/zloirock [96m) is looking for a good job -)[0m

+ @eclipse-che/che-theia-devworkspace-handler@0.0.1-1649678182
added 121 packages from 182 contributors and audited 121 packages in 10.887s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

+ @eclipse-che/che-code-devworkspace-handler@1.64.0-dev-210b722
added 2 packages from 1 contributor and audited 240 packages in 2.277s

4 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
--> 04579d967b8
STEP 18/23: RUN chmod -R g+rwX /build/resources
--> ad8002daf08
STEP 19/23: RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
 + registry.redhat.io/devspaces/code-rhel8:3.2 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/machineexec-rhel8:3.2 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/theia-endpoint-rhel8:3.2 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/theia-rhel8:3.2 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/udi-rhel8:3.2 PASS - registry.redhat.io allowed
 + registry.redhat.io/jboss-eap-7/eap74-openjdk11-openshift-rhel8:7.4.4 PASS - registry.redhat.io allowed
 + registry.redhat.io/jboss-eap-7/eap-xp3-openjdk11-openshift-rhel8:3.0 PASS - registry.redhat.io allowed
 + registry.redhat.io/rhscl/mongodb-36-rhel7:1-50 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/code-rhel8:3.2 PASS - 3.2 allowed
 + registry.redhat.io/devspaces/machineexec-rhel8:3.2 PASS - 3.2 allowed
 + registry.redhat.io/devspaces/theia-endpoint-rhel8:3.2 PASS - 3.2 allowed
 + registry.redhat.io/devspaces/theia-rhel8:3.2 PASS - 3.2 allowed
 + registry.redhat.io/devspaces/udi-rhel8:3.2 PASS - 3.2 allowed
 = registry.redhat.io/jboss-eap-7/eap74-openjdk11-openshift-rhel8:7.4.4 PASS
 = registry.redhat.io/jboss-eap-7/eap-xp3-openjdk11-openshift-rhel8:3.0 PASS
 = registry.redhat.io/rhscl/mongodb-36-rhel7:1-50 PASS
--> ecfd822ebfc
STEP 20/23: RUN ./check_mandatory_fields.sh devfiles
Checking devfile 'devfiles/00_java11-maven-eap/meta.yaml'
Checking devfile 'devfiles/00_java11-maven-microprofile-xp3/meta.yaml'
Checking devfile 'devfiles/03_camelk/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-gradle/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-lombok/meta.yaml'
Checking devfile 'devfiles/03_java11-maven-quarkus/meta.yaml'
Checking devfile 'devfiles/04_nodejs-mongo/meta.yaml'
Checking devfile 'devfiles/04_nodejs-simple/meta.yaml'
Checking devfile 'devfiles/04_python/meta.yaml'
Checking devfile 'devfiles/05_cpp/meta.yaml'
Checking devfile 'devfiles/05_dotnet/meta.yaml'
Checking devfile 'devfiles/05_go/meta.yaml'
Checking devfile 'devfiles/05_php-cake/meta.yaml'
Checking devfile 'devfiles/05_php-di/meta.yaml'
--> 7f596ffc1db
STEP 21/23: COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
--> e0a23ec184e
STEP 22/23: RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 
--> 27815365b3e
STEP 23/23: RUN ./index.sh > /build/devfiles/index.json &&     ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt &&     ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt &&     chmod -R g+rwX /build/devfiles
COMMIT devfileregistry:tmp
--> de8048a8971
Successfully tagged localhost/devfileregistry:tmp
de8048a8971b3a8bf9c4be6b05e8b49d752db5475909db36f2aee1d1b9e6866c
<======= END BOOTSTRAP BUILD =======
Downloading root-local.tgz
Downloading resources.tgz
Untagged: localhost/devfileregistry:tmp
Deleted: de8048a8971b3a8bf9c4be6b05e8b49d752db5475909db36f2aee1d1b9e6866c
Deleted: 27815365b3eb2608e1ed9b0c40dc3d415920944b0ddcbff435a3fce83e9c9829
Deleted: e0a23ec184ed3dd3c4f6e1b4838e6e075c09b0b0c6272e204f57af0091f431b4
Deleted: 7f596ffc1dbac9cbf9592a2c1ebfebe9d220eee0d2b283a3500aff24dbc3649c
Deleted: ecfd822ebfc8e5b7be622d08b2ee530059a75793f1d3cc0eb587da34fb9cccf3
Deleted: ad8002daf083e124f6923a08fc05f28e597afd6bdcb2d7729ef7c9031065fe63
Deleted: 04579d967b81a86ef3c21934c5453ac22b1ce43b1638d70cf2b55d9e9085aa06
Deleted: 34a1485dad06a2971713d3b47beb159df8772b06300946ec98f8ad345e952e73
Deleted: 4158afe3c045cf13ce476640ddccf85f1bc8b26313550be3b53507b38151f44f
Deleted: dc30d75b1bc344a8f3e31762a20c0ea8f709895ea0605a096d35c38a98376190
Deleted: 0c8bd8ca46eea8b6061899e919a6dfe278ba3e31e5278b87619b148e2d95f09e
Deleted: be200f97614ae09bc89b0f7dc709a60a611dccd1905115effe19c3b78f5e20b4
Deleted: 4fdc0c6cf3971ce3522800a57e4df059c81de6e323655b6c76a7acdb4866f1db
Deleted: 7aced4e291b0145e098fd40db45f53e09caed6932944dd7d4056dac8014b249e
Deleted: 961aba43efc27beaeac7e8a193b96ec6dbacfc935d5a28bbfaa79cc2632867e6
Deleted: 1d68f3b5d0fd04d01d478a99fecb0f64a200d23f01c5cc350bbddc3cc82ad57c
Deleted: 7d80b523c4ded225dbbae99f0164cc15ef924645c9d5eb028a5ebbbaf3b1e6a7
Deleted: 4eb8c5801e4a4ba7d2cb37dcf51e368a227f27cf8013a8d05b86bdc54eb2a8ac
Deleted: b85354835fe8d0671e47e827e4250fadfdacc829d45913ed15805905fb4a9c25
Deleted: 342b58b4597acf5792525e270430b716b677b2f323be2500fc5c15d78dd5c405
Deleted: 73589cc9f831d84baccbe02dce965f51ec7279c3255ccf42eabb0e4648f87e2c
Deleted: 1660b8cb929dea46359c9b9f1f905e331e48f8911df5ac4e24449a97920fe919
File already uploaded: root-local.tgz
File already uploaded: resources.tgz
All sources were already uploaded.
rm 'resources.tgz'
rm 'root-local.tgz'
