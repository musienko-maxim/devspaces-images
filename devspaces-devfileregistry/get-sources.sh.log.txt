======= BOOTSTRAP DOCKERFILE =======>
#
# Copyright (c) 2018-2022 Red Hat, Inc.
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/
#
# SPDX-License-Identifier: EPL-2.0
#
# Contributors:
#   Red Hat, Inc. - initial API and implementation
#   IBM Corporation - implementation
#

# Builder: check meta.yamls and create index.json
# registry.access.redhat.com/ubi8/python-38
FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 as builder
USER 0

ARG BOOTSTRAP=true
ENV BOOTSTRAP=${BOOTSTRAP}
# if not defined or string is null, allow all registries/tags in list_referenced_images
# otherwise restrict to only those space-separated registries/tags; if others found, build will fail
# useful for failing build if quay images in an RC, or wrong devspaces image tag (3.2 in 3.1 build)
ARG ALLOWED_REGISTRIES=""
ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
ARG ALLOWED_TAGS=""
ENV ALLOWED_TAGS=${ALLOWED_TAGS}

COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
COPY ./build/dockerfiles/rhel.install.sh /tmp
RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh

COPY ./build/scripts ./versions.json /build/
COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
COPY ./VERSION /
COPY ./devfiles /build/devfiles
WORKDIR /build/

RUN ./generate_devworkspace_templates.sh
RUN chmod -R g+rwX /build/resources

# validate devfile content
RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
RUN ./check_mandatory_fields.sh devfiles

# Cache projects in DS 
COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 

# don't do swaps, or we end up with missing content if built on s390x or ppc64le worker
# RUN ./swap_yamlfiles.sh devfiles
# RUN ./swap_images.sh devfiles
RUN ./index.sh > /build/devfiles/index.json && \
    ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt && \
    ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt && \
    chmod -R g+rwX /build/devfiles

<======= BOOTSTRAP DOCKERFILE =======
======= START BOOTSTRAP BUILD =======>
STEP 1/23: FROM registry-proxy.engineering.redhat.com/rh-osbs/ubi8-python-38:1-100 AS builder
STEP 2/23: USER 0
--> 92f45e196ce
STEP 3/23: ARG BOOTSTRAP=true
--> ff5e38edb6a
STEP 4/23: ENV BOOTSTRAP=${BOOTSTRAP}
--> 3ff85924a33
STEP 5/23: ARG ALLOWED_REGISTRIES=""
--> da5556f20ed
STEP 6/23: ENV ALLOWED_REGISTRIES=${ALLOWED_REGISTRIES}
--> 6b6c5e2f4a8
STEP 7/23: ARG ALLOWED_TAGS=""
--> f9126178b47
STEP 8/23: ENV ALLOWED_TAGS=${ALLOWED_TAGS}
--> 3272cbebaad
STEP 9/23: COPY ./build/dockerfiles/content_sets_rhel8.repo /etc/yum.repos.d/
--> 13852ec3c19
STEP 10/23: COPY ./build/dockerfiles/rhel.install.sh /tmp
--> a1d665aa5de
STEP 11/23: RUN /tmp/rhel.install.sh && rm -f /tmp/rhel.install.sh

Upgraded:
  bash-4.4.20-4.el8_6.x86_64                                                    
  dnf-4.7.0-11.el8.noarch                                                       
  dnf-data-4.7.0-11.el8.noarch                                                  
  nodejs-1:14.20.1-2.module+el8.7.0+16991+b0a68a3e.x86_64                       
  nodejs-docs-1:14.20.1-2.module+el8.7.0+16991+b0a68a3e.noarch                  
  nodejs-full-i18n-1:14.20.1-2.module+el8.7.0+16991+b0a68a3e.x86_64             
  npm-1:6.14.17-1.14.20.1.2.module+el8.7.0+16991+b0a68a3e.x86_64                
  python3-dnf-4.7.0-11.el8.noarch                                               
  python38-3.8.13-1.module+el8.7.0+15641+2ece4388.x86_64                        
  python38-devel-3.8.13-1.module+el8.7.0+15641+2ece4388.x86_64                  
  python38-libs-3.8.13-1.module+el8.7.0+15641+2ece4388.x86_64                   
  python38-pip-19.3.1-6.module+el8.7.0+15823+8950cfa7.noarch                    
  tar-2:1.30-6.el8.x86_64                                                       
  yum-4.7.0-11.el8.noarch                                                       
Installed:
  containers-common-2:1-43.module+el8.7.0+17064+3b31f55c.x86_64                 
  criu-3.15-3.module+el8.7.0+17064+3b31f55c.x86_64                              
  fuse-common-3.3.0-16.el8.x86_64                                               
  fuse-overlayfs-1.9-1.module+el8.7.0+17064+3b31f55c.x86_64                     
  fuse3-3.3.0-16.el8.x86_64                                                     
  fuse3-libs-3.3.0-16.el8.x86_64                                                
  iptables-libs-1.8.4-23.el8.x86_64                                             
  jansson-2.14-1.el8.x86_64                                                     
  jq-1.6-3.el8.x86_64                                                           
  kmod-25-19.el8.x86_64                                                         
  libibverbs-41.0-1.el8.x86_64                                                  
  libmnl-1.0.4-6.el8.x86_64                                                     
  libnet-1.1.6-15.el8.x86_64                                                    
  libnftnl-1.1.5-5.el8.x86_64                                                   
  libpcap-14:1.9.1-5.el8.x86_64                                                 
  libslirp-4.4.0-1.module+el8.7.0+17064+3b31f55c.x86_64                         
  nftables-1:0.9.3-26.el8.x86_64                                                
  oniguruma-6.8.2-2.el8.x86_64                                                  
  protobuf-c-1.3.0-6.el8.x86_64                                                 
  runc-1:1.1.4-1.module+el8.7.0+17064+3b31f55c.x86_64                           
  skopeo-2:1.9.3-1.module+el8.7.0+17064+3b31f55c.x86_64                         
  slirp4netns-1.2.0-2.module+el8.7.0+17064+3b31f55c.x86_64                      

Collecting yq
  Downloading https://files.pythonhosted.org/packages/60/2c/ab35b5ec3b884b6e33b18ba3f6be6b94d607501fca1e5a8de22988690cdb/yq-3.1.0-py3-none-any.whl
Collecting argcomplete
  Downloading https://files.pythonhosted.org/packages/d3/e5/c5509683462e51b070df9e83e7f72c1ccfe3f733f328b4a0f06804c27278/argcomplete-2.0.0-py2.py3-none-any.whl
Collecting xmltodict>=0.11.0
  Downloading https://files.pythonhosted.org/packages/94/db/fd0326e331726f07ff7f40675cd86aa804bfd2e5016c727fa761c934990e/xmltodict-0.13.0-py2.py3-none-any.whl
Collecting PyYAML>=5.3.1
  Downloading https://files.pythonhosted.org/packages/d7/42/7ad4b6d67a16229496d4f6e74201bdbebcf4bc1e87d5a70c9297d4961bd2/PyYAML-6.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (701kB)
Collecting toml>=0.10.0
  Downloading https://files.pythonhosted.org/packages/44/6f/7120676b6d73228c96e17f1f794d8ab046fc910d781c8d151120c3f1569e/toml-0.10.2-py2.py3-none-any.whl
Installing collected packages: xmltodict, PyYAML, argcomplete, toml, yq
Successfully installed PyYAML-6.0 argcomplete-2.0.0 toml-0.10.2 xmltodict-0.13.0 yq-3.1.0
python: Python 3.8.13
yq: yq 3.1.0
jq: jq-1.6
--> 8459be6d3ea
STEP 12/23: COPY ./build/scripts ./versions.json /build/
--> 84524b083a1
STEP 13/23: COPY ./build/scripts/clone_and_zip.sh /build/build/scripts/
--> 5d76030e19c
STEP 14/23: COPY ./VERSION /
--> 3b91933bc8d
STEP 15/23: COPY ./devfiles /build/devfiles
--> 3c9f9eb19a0
STEP 16/23: WORKDIR /build/
--> ffdaa30b37e
STEP 17/23: RUN ./generate_devworkspace_templates.sh

> core-js@2.6.12 postinstall /build/node_modules/core-js
> node -e "try{require('./postinstall')}catch(e){}"

[96mThank you for using core-js ([94m https://github.com/zloirock/core-js [96m) for polyfilling JavaScript standard library![0m

[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: [0m
[96m>[94m https://opencollective.com/core-js [0m
[96m>[94m https://www.patreon.com/zloirock [0m

[96mAlso, the author of core-js ([94m https://github.com/zloirock [96m) is looking for a good job -)[0m

+ @eclipse-che/che-theia-devworkspace-handler@0.0.1-1649678182
added 120 packages from 183 contributors and audited 120 packages in 10.874s

5 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

+ @eclipse-che/che-code-devworkspace-handler@1.64.0-dev-210b722
added 2 packages from 1 contributor and audited 239 packages in 7.054s

5 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
No sidecar policy. Setting to useDevContainer
--> 0780282559a
STEP 18/23: RUN chmod -R g+rwX /build/resources
--> 79941272b04
STEP 19/23: RUN ./check_referenced_images.sh devfiles --registries "${ALLOWED_REGISTRIES}" --tags "${ALLOWED_TAGS}"
 + registry.redhat.io/devspaces/code-rhel8:3.4 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/machineexec-rhel8:3.4 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/theia-rhel8:3.4 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/udi-rhel8:3.4 PASS - registry.redhat.io allowed
 + registry.redhat.io/rhscl/mongodb-36-rhel7:1-50 PASS - registry.redhat.io allowed
 + registry.redhat.io/devspaces/code-rhel8:3.4 PASS - 3.4 allowed
 + registry.redhat.io/devspaces/machineexec-rhel8:3.4 PASS - 3.4 allowed
 + registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4 PASS - 3.4 allowed
 + registry.redhat.io/devspaces/theia-rhel8:3.4 PASS - 3.4 allowed
 + registry.redhat.io/devspaces/udi-rhel8:3.4 PASS - 3.4 allowed
 = registry.redhat.io/rhscl/mongodb-36-rhel7:1-50 PASS
--> b4c0e95a084
STEP 20/23: RUN ./check_mandatory_fields.sh devfiles
Checking devfile 'devfiles/TP__cpp__c-plus-plus/meta.yaml'
Checking devfile 'devfiles/TP__dotnet__dotnet-web-simple/meta.yaml'
Checking devfile 'devfiles/TP__go__golang-health-check/meta.yaml'
Checking devfile 'devfiles/TP__php__php-hello-world/meta.yaml'
Checking devfile 'devfiles/java11-maven-lombok__lombok-project-sample/meta.yaml'
Checking devfile 'devfiles/java11-maven-quarkus__quarkus-quickstarts/meta.yaml'
Checking devfile 'devfiles/nodejs__nodejs-mongodb-sample/meta.yaml'
Checking devfile 'devfiles/nodejs__web-nodejs-sample/meta.yaml'
Checking devfile 'devfiles/python__python-hello-world/meta.yaml'
--> 1d58be1622d
STEP 21/23: COPY ./build/dockerfiles/rhel.cache_projects.sh /tmp/ 
--> f08c5b5d906
STEP 22/23: RUN /tmp/rhel.cache_projects.sh /build/ && rm -rf /tmp/rhel.cache_projects.sh /tmp/resources.tgz 
--> 4152f5490da
STEP 23/23: RUN ./index.sh > /build/devfiles/index.json &&     ./list_referenced_images.sh devfiles > /build/devfiles/external_images.txt &&     ./list_referenced_images_by_file.sh devfiles > /build/devfiles/external_images_by_devfile.txt &&     chmod -R g+rwX /build/devfiles
COMMIT devfileregistry:tmp
--> 98d992e4c93
Successfully tagged localhost/devfileregistry:tmp
98d992e4c93d248f54541b6ed3f1fc99ef7d041cd07703c377ab9aad742fc2e2
<======= END BOOTSTRAP BUILD =======
Downloading root-local.tgz
Downloading resources.tgz
DIFF START *****
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 03_java11-maven-lombok
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 03_java11-maven-quarkus
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 04_nodejs-mongo
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 04_nodejs-simple
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 04_python
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 05_cpp
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 05_dotnet
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 05_go
Only in /tmp/tmp.mhuGSBqVuO/devfiles: 05_php-cake
diff --suppress-common-lines -u -r /tmp/tmp.mhuGSBqVuO/devfiles/external_images_by_devfile.txt /tmp/tmp.Nr1IZlpZjy/devfiles/external_images_by_devfile.txt
--- /tmp/tmp.mhuGSBqVuO/devfiles/external_images_by_devfile.txt	2022-12-19 12:51:40.000000000 -0500
+++ /tmp/tmp.Nr1IZlpZjy/devfiles/external_images_by_devfile.txt	2022-12-20 09:36:27.565771996 -0500
@@ -1,41 +1,39 @@
-registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/cakephp-ex/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/c-plus-plus/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/dotnet-web-simple/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/golang-health-check/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/lombok-project-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/nodejs-mongodb-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
+registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/php-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/python-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/quarkus-quickstarts/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/code-rhel8:3.4	https://github.com/devspaces-samples/web-nodejs-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
-registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/cakephp-ex/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/c-plus-plus/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/dotnet-web-simple/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/golang-health-check/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/lombok-project-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/nodejs-mongodb-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
+registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/php-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/python-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/quarkus-quickstarts/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/machineexec-rhel8:3.4	https://github.com/devspaces-samples/web-nodejs-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
-registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/cakephp-ex/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/c-plus-plus/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/dotnet-web-simple/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/golang-health-check/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/lombok-project-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/nodejs-mongodb-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
+registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/php-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/python-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/quarkus-quickstarts/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-endpoint-rhel8:3.4	https://github.com/devspaces-samples/web-nodejs-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
-registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/cakephp-ex/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/c-plus-plus/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/dotnet-web-simple/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/golang-health-check/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/lombok-project-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/nodejs-mongodb-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
+registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/php-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/python-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/quarkus-quickstarts/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/theia-rhel8:3.4	https://github.com/devspaces-samples/web-nodejs-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
-registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/cakephp-ex/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
-registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/cakephp-ex/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/c-plus-plus/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/c-plus-plus/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/dotnet-web-simple/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
@@ -46,6 +44,8 @@
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/lombok-project-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/nodejs-mongodb-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/nodejs-mongodb-sample/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
+registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/php-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
+registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/php-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/python-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/python-hello-world/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-theia-latest.yaml
 registry.redhat.io/devspaces/udi-rhel8:3.4	https://github.com/devspaces-samples/quarkus-quickstarts/tree/devspaces-3.4-rhel-8/devfile.yaml	devworkspace-che-code-insiders.yaml
diff --suppress-common-lines -u -r /tmp/tmp.mhuGSBqVuO/devfiles/index.json /tmp/tmp.Nr1IZlpZjy/devfiles/index.json
--- /tmp/tmp.mhuGSBqVuO/devfiles/index.json	2022-12-19 12:51:40.000000000 -0500
+++ /tmp/tmp.Nr1IZlpZjy/devfiles/index.json	2022-12-20 09:36:27.565771996 -0500
@@ -13,8 +13,8 @@
     "links": {
       "v2": "https://github.com/devspaces-samples/lombok-project-sample/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/03_java11-maven-lombok/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/03_java11-maven-lombok/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/java11-maven-lombok__lombok-project-sample/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/java11-maven-lombok__lombok-project-sample/devworkspace-che-code-insiders.yaml"
       }
     }
   },
@@ -32,8 +32,8 @@
     "links": {
       "v2": "https://github.com/devspaces-samples/quarkus-quickstarts/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/03_java11-maven-quarkus/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/03_java11-maven-quarkus/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/java11-maven-quarkus__quarkus-quickstarts/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/java11-maven-quarkus__quarkus-quickstarts/devworkspace-che-code-insiders.yaml"
       }
     }
   },
@@ -51,8 +51,8 @@
     "links": {
       "v2": "https://github.com/devspaces-samples/nodejs-mongodb-sample/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/04_nodejs-mongo/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/04_nodejs-mongo/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/nodejs__nodejs-mongodb-sample/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/nodejs__nodejs-mongodb-sample/devworkspace-che-code-insiders.yaml"
       }
     }
   },
@@ -69,8 +69,8 @@
     "links": {
       "v2": "https://github.com/devspaces-samples/web-nodejs-sample/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/04_nodejs-simple/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/04_nodejs-simple/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/nodejs__web-nodejs-sample/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/nodejs__web-nodejs-sample/devworkspace-che-code-insiders.yaml"
       }
     }
   },
@@ -86,8 +86,8 @@
     "links": {
       "v2": "https://github.com/devspaces-samples/python-hello-world/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/04_python/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/04_python/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/python__python-hello-world/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/python__python-hello-world/devworkspace-che-code-insiders.yaml"
       }
     }
   },
@@ -109,8 +109,8 @@
     "links": {
       "v2": "https://github.com/devspaces-samples/c-plus-plus/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/05_cpp/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/05_cpp/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/TP__cpp__c-plus-plus/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/TP__cpp__c-plus-plus/devworkspace-che-code-insiders.yaml"
       }
     }
   },
@@ -131,8 +131,8 @@
     "links": {
       "v2": "https://github.com/devspaces-samples/dotnet-web-simple/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/05_dotnet/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/05_dotnet/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/TP__dotnet__dotnet-web-simple/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/TP__dotnet__dotnet-web-simple/devworkspace-che-code-insiders.yaml"
       }
     }
   },
@@ -149,28 +149,25 @@
     "links": {
       "v2": "https://github.com/devspaces-samples/golang-health-check/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/05_go/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/05_go/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/TP__go__golang-health-check/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/TP__go__golang-health-check/devworkspace-che-code-insiders.yaml"
       }
     }
   },
   {
-    "displayName": "PHP CakePHP",
-    "description": "PHP Stack with PHP, Apache Web Server, Composer and a quickstart CakePHP application for OpenShift",
+    "displayName": "PHP",
+    "description": "PHP Stack with PHP",
     "tags": [
       "Tech-Preview",
       "PHP",
-      "CakePHP",
-      "Apache",
-      "Composer",
       "UBI8"
     ],
     "icon": "/images/type-php.svg",
     "links": {
-      "v2": "https://github.com/devspaces-samples/cakephp-ex/tree/devspaces-3.4-rhel-8",
+      "v2": "https://github.com/devspaces-samples/php-hello-world/tree/devspaces-3.4-rhel-8",
       "devWorkspaces": {
-        "eclipse/che-theia/latest": "/devfiles/05_php-cake/devworkspace-che-theia-latest.yaml",
-        "che-incubator/che-code/insiders": "/devfiles/05_php-cake/devworkspace-che-code-insiders.yaml"
+        "eclipse/che-theia/latest": "/devfiles/TP__php__php-hello-world/devworkspace-che-theia-latest.yaml",
+        "che-incubator/che-code/insiders": "/devfiles/TP__php__php-hello-world/devworkspace-che-code-insiders.yaml"
       }
     }
   }
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: java11-maven-lombok__lombok-project-sample
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: java11-maven-quarkus__quarkus-quickstarts
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: nodejs__nodejs-mongodb-sample
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: nodejs__web-nodejs-sample
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: python__python-hello-world
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: TP__cpp__c-plus-plus
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: TP__dotnet__dotnet-web-simple
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: TP__go__golang-health-check
Only in /tmp/tmp.Nr1IZlpZjy/devfiles: TP__php__php-hello-world
Only in /tmp/tmp.mhuGSBqVuO/resources/v2: cakephp-ex.zip
Only in /tmp/tmp.Nr1IZlpZjy/resources/v2: php-hello-world.zip
***** END DIFF
Untagged: localhost/devfileregistry:tmp
Deleted: 98d992e4c93d248f54541b6ed3f1fc99ef7d041cd07703c377ab9aad742fc2e2
Deleted: 4152f5490da58074dab8dca135b2c82eb899d506f3695024a8561f5ae239c70c
Deleted: f08c5b5d9066005f18fc7de3d6080406fb3d25e366ce6d13542d2be29b155c52
Deleted: 1d58be1622d66e12c454ced275d6ab84a3b3b026072d41aaeaed448ee3013557
Deleted: b4c0e95a084e2dce49c5f096b1f2c3f38002d8f79b912bede812892b5a062a54
Deleted: 79941272b04761da10a8e47456eea6c747ab4bded9ab6b6307283b4d9d151bab
Deleted: 0780282559a0285698a55bd4a6757e4688d613a89da1c2af45ee35aee39c7147
Deleted: ffdaa30b37e1b6e480442380f6544cf631fa902d771cd6e2cf084edc41b21bf1
Deleted: 3c9f9eb19a0452ed6c5435f1beb1018631f3f5dbb9265abef8aab60d9ed9b65a
Deleted: 3b91933bc8dc7ceadd3fd3c844169e1caef1dc9602c4e45e7b48626064ee5777
Deleted: 5d76030e19c73e4df78d7b3d10508dbadc99862cf15378905e677b808ac3411f
Deleted: 84524b083a1812fcd3ac2e8221fa97d73593a5cd747916a64ac355d1815096b8
Deleted: 8459be6d3eaa110d0530ae67d4de47dd1258c9cc0ace694b0e5faa635a149781
Deleted: a1d665aa5ded6c799c64677580e9a0f00287db3cd3dce2e540204ed4c404be73
Deleted: 13852ec3c19ab51163263a3fcafdf27156c912c40e866859254bb503f3ce40a2
Deleted: 3272cbebaad5eb0371c0aaea95dae2704fe2d46bff24c90a50c53b4285f30d71
Deleted: f9126178b479c4e7e6e64c76c30bd4e88c6cc77d1ac40b791f719577658b1da9
Deleted: 6b6c5e2f4a8e14eaa2cc42075a709f148d56769e2981a896aca1cbf5352841b4
Deleted: da5556f20ede894bd0e19878ed6c56104167a5f8bfa21e4189b1884945476f73
Deleted: 3ff85924a33fff08f4fc29725377b63c3ad4fe836f3cbc3ce4c0ccf78fcb9a73
Deleted: ff5e38edb6ab3a9ee2f50ace87bacc46357b367577c25631c0798db6d5c9caf1
Deleted: 92f45e196ceb60850b686c208d59828e751862032c4de9b6e63f11ad43fe79e8
File already uploaded: root-local.tgz
Uploading: resources.tgz
Source upload succeeded. Don't forget to commit the sources file
rm 'resources.tgz'
rm 'root-local.tgz'
